{
	"id": "/",
	"groups": [
		{
			"id": "movies-site",
	
			"apps": [
				{
					"id": "movie",
					"cmd": null,
					"cpus": 0.2,
					"mem": 1500,
					"disk": 0,
					"instances": 1,
					"container": {
						"docker": {
							"image": "dockerniu/movie-microservice",
							"network": "BRIDGE",
							"parameters": [
								{
									"key": "net",
									"value": "microservice"
								},
								{
									"key": "net-alias",
									"value": "movie"
								}
							],
							"portMappings": [
								{
									"containerPort": 9000,
									"protocol": "tcp",
									"name": null
								}
							]
						},
						"type": "DOCKER"
					},
					"healthChecks": [
					],
					"labels": {
					}
				},
				{
					"id": "moviesui",
					"cmd": null,
					"cpus": 0.3,
					"mem": 1500,
					"disk": 0,
					"instances": 1,
					 "labels": {
					    "HAPROXY_GROUP": "external",
					    "HAPROXY_0_VHOST": "mesos-slave1",
					    "HAPROXY_0_MODE": "http"
					  },
					"container": {
						"docker": {
							"image": "dockerniu/ui-search",
							"network": "BRIDGE",
							"parameters": [
								{
									"key": "net",
									"value": "microservice"
								},
								{
									"key": "net-alias",
									"value": "moviesui"
								}
							],
							"portMappings": [
								{
									"containerPort": 1111,
									"servicePort": 8080,									
									"protocol": "tcp",
									"name": null
								}
							]
						},
						"type": "DOCKER",
						"env": {
							"SPRING_PROFILES_ACTIVE": "docker"
						}
					},
					 "dependencies": ["movie","rating","user"],
					"healthChecks": [
					]
					
				},
				{
					"id": "rating",
					"cmd": null,
					"cpus": 0.3,
					"mem": 1500,
					"disk": 0,
					"instances": 1,
					"container": {
						"docker": {
							"image": "dockerniu/rating-microservice",
							"network": "BRIDGE",
							"parameters": [							
								{
									"key": "net",
									"value": "microservice"
								},
								{
									"key": "net-alias",
									"value": "rating"
								}
							],
							"portMappings": [
								{
									"containerPort": 9004,
									"protocol": "tcp",
									"name": null
								}
							]
						},
						"type": "DOCKER",
						"env": {
							"SPRING_PROFILES_ACTIVE": "docker"
						}
					},
					"healthChecks": [
					],
					"labels": {
					}
				},
				{
					"id": "user",
					"cmd": null,
					"cpus": 0.3,
					"mem": 1500,
					"disk": 0,
					"instances": 1,
					"container": {
						"docker": {
							"image": "dockerniu/user-microservice",
							"network": "BRIDGE",
							"parameters": [
								{
									"key": "net",
									"value": "microservice"
								},
								{
									"key": "net-alias",
									"value": "user"
								}
							],
							"portMappings": [
								{
									"containerPort": 9000,
									"protocol": "tcp",
									"name": null
								}
							]
						},
						"type": "DOCKER",
						"env": {
							"SPRING_PROFILES_ACTIVE": "docker"
						}
					},
					"healthChecks": [
					],
					"labels": {
					}
				}
			]
		}
	]
}
